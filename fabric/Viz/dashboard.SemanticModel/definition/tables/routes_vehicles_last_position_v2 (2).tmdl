table 'routes_vehicles_last_position_v2 (2)'
	lineageTag: 8d7a9fdf-c656-46fb-8ae1-be616734151b

	column route_id
		dataType: string
		sourceProviderType: nvarchar(max)
		lineageTag: a3773224-657e-4934-9632-734c2b24aa81
		summarizeBy: none
		sourceColumn: route_id

		annotation SummarizationSetBy = Automatic

	column latitude
		dataType: double
		sourceProviderType: double
		lineageTag: 26d548c3-c612-487d-bf00-f9f1595d1df4
		summarizeBy: sum
		sourceColumn: latitude

		annotation SummarizationSetBy = Automatic

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	column longitude
		dataType: double
		sourceProviderType: double
		lineageTag: a4bbf457-1d43-4983-8762-15dbfd656a0c
		summarizeBy: sum
		sourceColumn: longitude

		annotation SummarizationSetBy = Automatic

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	column sequence
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: 71fbe11e-82dc-45fd-9441-c24d9c2d39ca
		summarizeBy: sum
		sourceColumn: sequence

		annotation SummarizationSetBy = Automatic

	column timestamp
		dataType: dateTime
		formatString: General Date
		sourceProviderType: datetimeoffset
		lineageTag: 989c3f76-4df6-4d3d-a2f4-c791465aa928
		summarizeBy: none
		sourceColumn: timestamp

		annotation SummarizationSetBy = Automatic

	column progress_pct
		dataType: int64
		formatString: 0
		sourceProviderType: int
		lineageTag: b9e8f405-0eb8-4237-ab73-a9dd3a97292d
		summarizeBy: sum
		sourceColumn: progress_pct

		annotation SummarizationSetBy = Automatic

	column speed_kmh
		dataType: double
		sourceProviderType: double
		lineageTag: 28acadd8-1de9-4b1d-98af-1910d86cce90
		summarizeBy: sum
		sourceColumn: speed_kmh

		annotation SummarizationSetBy = Automatic

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	column status
		dataType: string
		sourceProviderType: nvarchar(max)
		lineageTag: 01d03b5c-13bb-4e62-be92-d925c53d6f1e
		summarizeBy: none
		sourceColumn: status

		annotation SummarizationSetBy = Automatic

	column icon_map
		dataType: string
		sourceProviderType: nvarchar(max)
		lineageTag: 3bac8fa7-3b67-4e03-af59-b3554340627f
		summarizeBy: none
		sourceColumn: icon_map

		annotation SummarizationSetBy = Automatic

	column kind
		dataType: string
		sourceProviderType: nvarchar(max)
		lineageTag: e2a07464-34b7-4463-b5a7-4fa991eedaf6
		summarizeBy: none
		sourceColumn: kind

		annotation SummarizationSetBy = Automatic

	column key
		dataType: string
		sourceProviderType: nvarchar(max)
		lineageTag: 4c689f56-ebd0-45f8-9f14-845fc9b27595
		summarizeBy: none
		sourceColumn: key

		annotation SummarizationSetBy = Automatic

	partition 'routes_vehicles_last_position_v2 (2)' = m
		mode: directQuery
		source =
				let
				Source = AzureDataExplorer.Contents("https://trd-64402wcfv837yzr036.z9.kusto.fabric.microsoft.com", "751b8962-6c5d-4816-aea5-24d888ea4d55", "let route =
				    tb_route_segments_silver
				    | join kind=leftouter tb_routes_wkt_silver on route_id
				    | project
				        route_id,
				        latitude = 0.0/0.0,
				        longitude = 0.0/0.0,
				        sequence,
				        timestamp,
				        progress_pct = int(0),
				        speed_kmh = real(0),
				        status = 'na',
				        icon_map = wkt,
				        ['kind'] = ""route"",
				        key = strcat(route_id, ""-"", tostring(sequence), ""-"", ""wkt"");
				let live =
				    mv_latest_telem
				    | project
				        route_id,
				        latitude,
				        longitude,
				        sequence = int(0),
				        timestamp,
				        progress_pct,
				        speed_kmh,
				        status,
				        icon_map,
				        ['kind'] = ""vehicle"",
				        key = strcat(route_id, ""-"", tostring(sequence), ""-"", ""img"");
				union route, live
				| order by route_id asc, kind asc, sequence asc", [])
				in
				Source

	annotation PBI_NavigationStepName = Navigation

	annotation PBI_ResultType = Table

